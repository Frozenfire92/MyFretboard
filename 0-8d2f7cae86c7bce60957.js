(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{142:function(t,r,e){"use strict";var n=e(8);r.__esModule=!0,r.withPrefix=h,r.navigateTo=r.replace=r.push=r.navigate=r.default=void 0;var i=n(e(148)),s=n(e(149)),a=n(e(7)),o=n(e(51)),p=n(e(52)),l=n(e(4)),c=n(e(0)),u=e(22),d=e(144);function h(t){return function(t){return t.replace(/\/+/g,"/")}("/MyFretboard/"+t)}var f={activeClassName:l.default.string,activeStyle:l.default.object},g=function(t){function r(r){var e;e=t.call(this,r)||this,(0,p.default)((0,o.default)((0,o.default)(e)),"defaultGetProps",function(t){return t.isCurrent?{className:[e.props.className,e.props.activeClassName].filter(Boolean).join(" "),style:(0,s.default)({},e.props.style,e.props.activeStyle)}:null});var n=!1;return"undefined"!=typeof window&&window.IntersectionObserver&&(n=!0),e.state={IOSupported:n},e.handleRef=e.handleRef.bind((0,o.default)((0,o.default)(e))),e}(0,a.default)(r,t);var e=r.prototype;return e.componentDidUpdate=function(t,r){this.props.to===t.to||this.state.IOSupported||___loader.enqueue((0,d.parsePath)(this.props.to).pathname)},e.componentDidMount=function(){this.state.IOSupported||___loader.enqueue((0,d.parsePath)(this.props.to).pathname)},e.handleRef=function(t){var r,e,n,i=this;this.props.innerRef&&this.props.innerRef(t),this.state.IOSupported&&t&&(r=t,e=function(){___loader.enqueue((0,d.parsePath)(i.props.to).pathname)},(n=new window.IntersectionObserver(function(t){t.forEach(function(t){r===t.target&&(t.isIntersecting||t.intersectionRatio>0)&&(n.unobserve(r),n.disconnect(),e())})})).observe(r))},e.render=function(){var t=this,r=this.props,e=r.to,n=r.getProps,a=void 0===n?this.defaultGetProps:n,o=r.onClick,p=r.onMouseEnter,l=(r.activeClassName,r.activeStyle,r.innerRef,r.state),f=r.replace,g=(0,i.default)(r,["to","getProps","onClick","onMouseEnter","activeClassName","activeStyle","innerRef","state","replace"]),m=h(e);return c.default.createElement(u.Link,(0,s.default)({to:m,state:l,getProps:a,innerRef:this.handleRef,onMouseEnter:function(t){p&&p(t),___loader.hovering((0,d.parsePath)(e).pathname)},onClick:function(r){return o&&o(r),0!==r.button||t.props.target||r.defaultPrevented||r.metaKey||r.altKey||r.ctrlKey||r.shiftKey||(r.preventDefault(),b(e,{state:l,replace:f})),!0}},g))},r}(c.default.Component);g.propTypes=(0,s.default)({},f,{innerRef:l.default.func,onClick:l.default.func,to:l.default.string.isRequired,replace:l.default.bool});var m=c.default.forwardRef(function(t,r){return c.default.createElement(g,(0,s.default)({innerRef:r},t))});r.default=m;var b=function(t,r){window.___navigate(h(t),r)};r.navigate=b;var v=function(t){console.warn('The "push" method is now deprecated and will be removed in Gatsby v3. Please use "navigate" instead.'),window.___push(h(t))};r.push=v;r.replace=function(t){console.warn('The "replace" method is now deprecated and will be removed in Gatsby v3. Please use "navigate" instead.'),window.___replace(h(t))};r.navigateTo=function(t){return console.warn('The "navigateTo" method is now deprecated and will be removed in Gatsby v3. Please use "navigate" instead.'),v(t)}},143:function(t,r,e){"use strict";e.d(r,"a",function(){return d}),e.d(r,"b",function(){return h});e(73),e(32);var n=e(7),i=e.n(n),s=e(147),a=e(0),o=e.n(a),p=e(144),l=(e(151),e(152),e(153),{hand:"right",stringColor:"#000000",fretColor:"#000000",fingerColor:"#000000",fingerBorderColor:"#666666",fingerTextColor:"#FFFFFF",fretMarkerColor:"#333333",fretMarkerBorderColor:"#000000",fretMarkerOpacity:.1,showFingerNumberLabel:!0,showFretMarkers:!0,showFretBarLabel:!0,chordDiagramOrientation:"vertical"}),c=o.a.createContext({settings:{},data:{},state:{},updateSetting:function(t,r){},resetSettings:function(){},updateChord:function(t){}}),u=c.Provider,d=c.Consumer,h=function(t){function r(r){var e;return(e=t.call(this,r)||this).state=Object.assign({},{currentChord:{id:"a-major",placements:[0,2,2,2,0,null],fingerings:[0,2,1,3,0,0]}},e.load()),e}i()(r,t);var e=r.prototype;return e.load=function(){console.log("loading state");try{var t=localStorage.getItem("app");return t?JSON.parse(t):{settings:l}}catch(r){return console.error("couldn't load",r),{settings:l}}},e.save=function(){console.log("saving state to local storage");try{var t=JSON.stringify(this.state);localStorage.setItem("app",t)}catch(r){console.error("couldn't save",r)}},e.updateSetting=function(t,r){var e=this;console.log("updating state { "+t+": "+r+" }"),this.setState(function(e){var n,i=Object.assign({},e.settings,((n={})[t]=r,n));return console.log("new",i),Object.assign({},e,{settings:i})},function(){e.save()})},e.updateChord=function(t,r){this.setState({currentChord:t.find(function(t){return t.id===r})})},e.resetSettings=function(){var t=this;console.log("resetting state"),this.setState({settings:l},function(){t.save()})},e.render=function(){var t=this;return o.a.createElement(p.StaticQuery,{query:"2303772613",render:function(r){return o.a.createElement(u,{value:{settings:t.state.settings,data:{chords:r.allChordsJson.edges.map(function(t){return t.node}),chordOptions:r.allChordsJson.edges.map(function(t){return t.node}).map(function(t){var r=t.id;return{label:r,value:r}})},state:{currentChord:t.state.currentChord},updateSetting:function(r,e){return t.updateSetting(r,e)},resetSettings:function(){return t.resetSettings()},updateChord:function(e){return t.updateChord(r.allChordsJson.edges.map(function(t){return t.node}),e)}}},o.a.createElement("header",null,o.a.createElement("h1",null,r.site.siteMetadata.title),o.a.createElement("nav",null,o.a.createElement(p.Link,{to:"/chords"},"Chords"),o.a.createElement(p.Link,{to:"/fretboard"},"Fretboard"),o.a.createElement(p.Link,{to:"/downloads"},"Downloads"),o.a.createElement(p.Link,{to:"/settings"},"Settings"))),o.a.createElement("main",{className:t.props.path},t.props.children))},data:s})},r}(a.Component)},144:function(t,r,e){"use strict";e.r(r),e.d(r,"graphql",function(){return f}),e.d(r,"StaticQueryContext",function(){return d}),e.d(r,"StaticQuery",function(){return h});var n=e(0),i=e.n(n),s=e(4),a=e.n(s),o=e(142),p=e.n(o);e.d(r,"Link",function(){return p.a}),e.d(r,"withPrefix",function(){return o.withPrefix}),e.d(r,"navigate",function(){return o.navigate}),e.d(r,"push",function(){return o.push}),e.d(r,"replace",function(){return o.replace}),e.d(r,"navigateTo",function(){return o.navigateTo});var l=e(145),c=e.n(l);e.d(r,"PageRenderer",function(){return c.a});var u=e(33);e.d(r,"parsePath",function(){return u.a});var d=i.a.createContext({}),h=function(t){return i.a.createElement(d.Consumer,null,function(r){return t.data||r[t.query]&&r[t.query].data?(t.render||t.children)(t.data?t.data.data:r[t.query].data):i.a.createElement("div",null,"Loading (StaticQuery)")})};function f(){throw new Error("It appears like Gatsby is misconfigured. Gatsby related `graphql` calls are supposed to only be evaluated at compile time, and then compiled away,. Unfortunately, something went wrong and the query was left in the compiled code.\n\n.Unless your site has a complex or custom babel/Gatsby configuration this is likely a bug in Gatsby.")}h.propTypes={data:a.a.object,query:a.a.string.isRequired,render:a.a.func,children:a.a.func}},145:function(t,r,e){var n;t.exports=(n=e(150))&&n.default||n},146:function(t,r,e){"use strict";e(158);var n=e(7),i=e.n(n),s=e(0),a=e.n(s),o=e(4),p=e.n(o),l=(e(160),function(t){function r(){return t.apply(this,arguments)||this}return i()(r,t),r.prototype.render=function(){var t=!!this.props.text&&a.a.createElement("text",{className:"finger-label",x:this.props.cx,y:this.props.cy,dy:"6",textAnchor:"middle",strokeWidth:"0.3",fontSize:"20",fill:this.props.textColor},this.props.text);return a.a.createElement("g",{className:"finger"},a.a.createElement("circle",{cx:this.props.cx,cy:this.props.cy,r:this.props.r,fill:this.props.fill,stroke:this.props.stroke,strokeWidth:"3"}),t)},r}(s.Component));l.propTypes={cx:p.a.number,cy:p.a.number,r:p.a.number,text:p.a.string,textColor:p.a.string,fill:p.a.string,stroke:p.a.string},l.defaultProps={fill:"#000000",stroke:"#666666",textColor:"#FFFFFF"};var c=l,u=function(t){function r(){return t.apply(this,arguments)||this}i()(r,t);var e=r.prototype;return e.minX=function(){return this.props.padding},e.maxX=function(){return this.props.width-this.props.padding},e.minY=function(){return this.props.padding},e.maxY=function(){return this.props.height-this.props.padding},e.minFret=function(){if(!this.props.chord)return 0;var t=this.props.chord.placements.filter(function(t){return"x"!==t&&0!==t}).reduce(function(t,r){return t<r?t:r});return this.props.chord.bar&&this.props.chord.bar.fret<t&&(t=this.props.chord.bar.fret),t},e.offset=function(){return this.props.chord&&this.props.chord.bar&&this.props.chord.bar.fret>1?this.props.startAtBarOrMin?this.props.chord.bar.fret-1:0:this.props.startAtBarOrMin&&this.minFret()>=3?this.minFret()-1:0},e.stringElements=function(t){for(var r=this,e=[],n=this.maxY()-this.minY(),i=0;i<this.props.stringCount;i++)e.push(i/(this.props.stringCount-1)*n+this.props.padding);var s=this.minX()-(this.props.barWidth/2-2),o=this.minY()-(this.props.barWidth/2-2);t>0&&(o+=4,s+=4);var p=this.maxX(),l=function(t,e){return a.a.createElement("line",{key:"string-"+(e+1),className:"string",x1:r.props.isVertical?t:s,y1:r.props.isVertical?o:t,x2:r.props.isVertical?t:p,y2:r.props.isVertical?p:t,stroke:r.props.stringColor,strokeWidth:r.props.stringWidth})};return this.props.isVertical?e.reverse().map(l):e.map(l)},e.fretElements=function(t){for(var r=this,e=[],n=this.maxX()-this.minX(),i=0;i<this.props.fretCount;i++)e.push(i/(this.props.fretCount-1)*n+this.props.padding);var s=this.minX()-this.props.stringWidth/2,o=this.minY()-this.props.stringWidth/2,p=this.maxY()+this.props.stringWidth/2;return e.map(function(e,n){return a.a.createElement("line",{key:"fret-"+n,className:"fret",x1:r.props.isVertical?s:e,y1:r.props.isVertical?e:o,x2:r.props.isVertical?p:e,y2:r.props.isVertical?e:p,strokeWidth:0===n&&0===t?12:2,stroke:r.props.fretColor})})},e.fretMarkerElements=function(t,r,e){var n=this,i=r.length-1,s=this.props.isVertical?(t[2].props.x1+t[3].props.x1)/2:(t[2].props.y1+t[3].props.y1)/2;return this.props.showFretMarkers?[3,5,7,9,12,15,17,19,21,24].map(function(t){return t-e}).filter(function(t){return t<=i&&t>0}).map(function(t){return a.a.createElement("circle",{key:"fret-marker-"+t,className:"fret-marker",cx:n.props.isVertical?s:(r[t-1].props.x1+r[t].props.x1)/2,cy:n.props.isVertical?(r[t-1].props.y1+r[t].props.y1)/2:s,r:15,fill:n.props.fretMarkerColor,stroke:n.props.fretMarkerBorderColor,strokeWidth:"3",opacity:n.props.fretMarkerOpacity})}):null},e.barElement=function(t,r,e){if(this.props.chord&&this.props.chord.bar){var n=this.props.chord.bar.fret-e-1,i=this.props.radius,s=this.props.barWidth/2,o=this.props.isVertical?t[this.props.chord.bar.end-1].props.x1-this.props.radius+5:r[n].props.x1+this.props.radius-s,p=this.props.isVertical?r[n].props.y1+i-this.props.barWidth:t[this.props.chord.bar.start-1].props.y1-i+5,l=2*i,c=this.props.isVertical?r[this.props.chord.bar.end-1].props.y1-r[this.props.chord.bar.start-1].props.y1-5:t[this.props.chord.bar.end-1].props.y1-t[this.props.chord.bar.start-1].props.y1+l;return a.a.createElement(a.a.Fragment,null,a.a.createElement("rect",{className:"finger-bar",x:o,y:p,width:this.props.isVertical?c-5:l,height:this.props.isVertical?l:c,rx:"25",ry:"25",fill:"#000000",stroke:"#666666",strokeWidth:"3"}),this.props.displayLabelInBar?a.a.createElement("text",{className:"finger-bar-label",x:this.props.isVertical?o+c/2:-1*(p+c/2),y:this.props.isVertical?p+l/2:o+20,dy:"6",textAnchor:"middle",strokeWidth:"0.3",fontSize:"20",fill:"#FFFFFF",stroke:"#FFFFFF",letterSpacing:"3",transform:this.props.isVertical?null:"rotate(-90,0,0)"},"Fret "+this.props.chord.bar.fret):null)}},e.fingerElements=function(t,r,e){var n=this;if(this.props.chord&&this.props.chord.fingerings&&this.props.chord.placements){var i=this.props.radius,s=this.props.isVertical?(t[1].props.x1-t[0].props.x1)/2:(r[1].props.x1-r[0].props.x1)/2;return this.props.chord.placements.map(function(t){return t-e}).map(function(t,r){return{n:t,i:r}}).filter(function(t){return t.n>0}).map(function(e){return{cx:n.props.isVertical?t[e.i].props.x1:r[e.n].props.x1-s,cy:n.props.isVertical?r[e.n].props.y1+s-5:t[e.i].props.y1,r:i,finger:n.props.chord.fingerings[e.i]}}).map(function(t){return a.a.createElement(c,{key:"finger-"+t.finger,text:n.props.showFingerNumberLabel?t.finger.toString():null,fill:n.props.fingerColor,stroke:n.props.fingerBorderColor,textColor:n.props.fingerTextColor,cx:t.cx,cy:t.cy,r:t.r})})}},e.labelElements=function(t){var r=this;if(this.props.chord&&this.props.chord.placements)return this.props.chord.placements.map(function(t,r){return{n:t,i:r}}).filter(function(t){return null===t.n}).map(function(e){return{x:r.props.isVertical?t[e.i].props.x1:15,y:r.props.isVertical?15:t[e.i].props.y1+5}}).map(function(t,r){return a.a.createElement("text",{key:"label-"+r,className:"skipped-string",textAnchor:"middle",strokeWidth:"0.3",fontSize:"20",fontFamily:"monospace",x:t.x,y:t.y},"x")})},e.noBarFretLabelElement=function(t,r,e){if(e&&this.props.displayLabelAtFret&&(!this.props.displayLabelInBar||!this.props.chord.bar))return console.log("noBarFretLabelElement",this.props.chord.id,{stringElements:t,fretElements:r}),a.a.createElement("text",{className:"fret-label",strokeWidth:"0.3",fontSize:"20",fontFamily:"monospace",x:this.props.isVertical?0:(r[0].props.y1+r[1].props.y1)/2+20,y:this.props.isVertical?(r[0].props.y1+r[1].props.y1)/2+7:t[0].props.x1-15},e+1+"f")},e.render=function(){var t=this.offset(),r=this.stringElements(t),e=this.fretElements(t),n=this.fretMarkerElements(r,e,t),i=this.barElement(r,e,t),s=this.fingerElements(r,e,t),o=this.labelElements(r),p=this.noBarFretLabelElement(r,e,t),l=this.props.isVertical?this.props.height:this.props.width,c=this.props.isVertical?this.props.width:this.props.height,u="fret-board"+(this.props.isChordDiagram?" chord-diagram":"");return a.a.createElement("svg",{className:u,viewBox:"0 0 "+l+" "+c},r,e,n,i,s,o,p)},r}(s.Component);u.propTypes={padding:p.a.number,width:p.a.number,height:p.a.number,stringCount:p.a.number,barWidth:p.a.number,fretCount:p.a.number,chord:p.a.object,radius:p.a.number,stringWidth:p.a.number,isVertical:p.a.bool,startAtBarOrMin:p.a.bool,displayLabelInBar:p.a.bool,displayLabelAtFret:p.a.bool,hand:p.a.string,stringColor:p.a.string,fretColor:p.a.string,fingerColor:p.a.string,fingerBorderColor:p.a.string,fingerTextColor:p.a.string,fretMarkerColor:p.a.string,fretMarkerBorderColor:p.a.string,fretMarkerOpacity:p.a.any,showFingerNumberLabel:p.a.bool,showFretMarkers:p.a.bool,isChordDiagram:p.a.bool},u.defaultProps={stringCount:6,fretCount:16,padding:35,width:1e3,height:300,barWidth:12,radius:20,stringWidth:4,isVertical:!1,startAtBarOrMin:!1,displayLabelInBar:!1,displayLabelAtFret:!1,hand:"right",stringColor:"#000000",fretColor:"#000000",fingerColor:"#000000",fingerBorderColor:"#666666",fingerTextColor:"#FFFFFF",fretMarkerColor:"#000000",fretMarkerBordercolor:"#666666",fretMarkerOpacity:.3,showFingerNumberLabel:!0,showFretMarkers:!0,isChordDiagram:!1};r.a=u},147:function(t){t.exports={data:{site:{siteMetadata:{title:"My Fretboard"}},allChordsJson:{edges:[{node:{id:"a-major",placements:[0,2,2,2,0,null],fingerings:[0,2,1,3,0,0],bar:null,variations:[{placements:[0,5,2,null,3,0],fingerings:[0,4,1,0,3,0]},{placements:[5,null,null,7,4,0],fingerings:[2,0,0,4,1,0]}]}},{node:{id:"a-sharp-major",placements:[0,3,3,3,0,null],fingerings:[0,4,3,2,0,0],bar:{start:1,end:5,fret:1},variations:null}},{node:{id:"b-major",placements:[0,4,4,4,0,null],fingerings:[0,4,3,2,0,0],bar:{start:1,end:5,fret:2},variations:null}},{node:{id:"c-major",placements:[0,1,0,2,3,null],fingerings:[0,1,0,2,3,0],bar:null,variations:[{placements:[0,5,5,5,0,0],fingerings:[0,4,3,2,0,0]}]}},{node:{id:"c-sharp-major",placements:[0,6,6,6,0,0],fingerings:[0,4,3,2,0,0],bar:{start:1,end:6,fret:4},variations:null}},{node:{id:"d-major",placements:[2,3,2,0,null,null],fingerings:[2,3,1,0,0,0],bar:null,variations:null}},{node:{id:"e-major",placements:[0,0,1,2,2,0],fingerings:[0,0,1,3,2,0],bar:null,variations:null}},{node:{id:"f-major",placements:[0,0,2,3,3,0],fingerings:[0,0,2,4,3,0],bar:{start:1,end:6,fret:1},variations:null}},{node:{id:"g-major",placements:[3,3,0,0,2,3],fingerings:[4,3,0,0,1,2],bar:null,variations:null}}]}}}},148:function(t,r){t.exports=function(t,r){if(null==t)return{};var e,n,i={},s=Object.keys(t);for(n=0;n<s.length;n++)e=s[n],r.indexOf(e)>=0||(i[e]=t[e]);return i}},149:function(t,r){function e(){return t.exports=e=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var e=arguments[r];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}return t},e.apply(this,arguments)}t.exports=e},150:function(t,r,e){"use strict";e.r(r);e(32);var n=e(0),i=e.n(n),s=e(4),a=e.n(s),o=e(53),p=e(2),l=function(t){var r=t.location,e=p.default.getResourcesForPathnameSync(r.pathname);return i.a.createElement(o.a,Object.assign({location:r,pageResources:e},e.json))};l.propTypes={location:a.a.shape({pathname:a.a.string.isRequired}).isRequired},r.default=l},151:function(t,r,e){},152:function(t,r,e){},153:function(t,r,e){},158:function(t,r,e){"use strict";e(159);var n=e(5),i=e(74),s=e(16),a=/./.toString,o=function(t){e(17)(RegExp.prototype,"toString",t,!0)};e(25)(function(){return"/a/b"!=a.call({source:"a",flags:"b"})})?o(function(){var t=n(this);return"/".concat(t.source,"/","flags"in t?t.flags:!s&&t instanceof RegExp?i.call(t):void 0)}):"toString"!=a.name&&o(function(){return a.call(this)})},159:function(t,r,e){e(16)&&"g"!=/./g.flags&&e(24).f(RegExp.prototype,"flags",{configurable:!0,get:e(74)})},160:function(t,r,e){var n=e(11);n(n.P,"Array",{fill:e(161)}),e(34)("fill")},161:function(t,r,e){"use strict";var n=e(26),i=e(75),s=e(14);t.exports=function(t){for(var r=n(this),e=s(r.length),a=arguments.length,o=i(a>1?arguments[1]:void 0,e),p=a>2?arguments[2]:void 0,l=void 0===p?e:i(p,e);l>o;)r[o++]=t;return r}}}]);
//# sourceMappingURL=0-8d2f7cae86c7bce60957.js.map